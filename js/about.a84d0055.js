(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{1982:function(t,e,i){},"29cc":function(t,e,i){},"2a6a":function(t,e,i){"use strict";i("ab9a")},"4d3b":function(t,e,i){"use strict";i("72fd")},"55a5":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-custom"},[i("div",{staticClass:"col-fill col"},[i("div",{staticClass:"paper"},[i("h2",{staticClass:"header-corner"},[t._v("Library")]),i("library-list")],1),i("div",{staticClass:"paper"},[i("h2",{staticClass:"header-corner"},[t._v("Recipes")]),i("recipe-list")],1)])])},n=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"grid"},[i("recipe-create-form"),t._l(t.getViewRecipes,(function(e){return i("div",{key:e.recipe.name},[e.editMode?t._e():i("div",{key:e.recipe.name,staticClass:"card"},[i("div",{staticClass:"card-body"},[i("h4",{staticClass:"card-title"},[t._v(t._s(e.recipe.name))]),i("h5",{staticClass:"card-subtitle"},[i("strong",[t._v(t._s(e.recipe.outputs[0].amount)+"x")]),t._v(" in "),i("strong",[t._v(t._s(e.recipe.time))]),t._v(" seconds")]),e.recipe.inputs.length>0?i("div",{staticClass:"collapsible"},[i("input",{attrs:{id:"collapsible"+e.recipe.name,type:"checkbox",name:"collapsible"}}),i("label",{staticStyle:{padding:"0.15rem"},attrs:{for:"collapsible"+e.recipe.name}},[t._v("Ingredients")]),i("div",{staticClass:"collapsible-body"},t._l(e.recipe.inputs,(function(e){return i("h6",{key:e.recipeName,staticStyle:{margin:"0.15rem"}},[i("strong",[t._v(t._s(e.amount)+"x")]),t._v(" "+t._s(e.recipeName)+" ")])})),0)]):t._e(),t.isRecipeDeletable(e)?i("button",{staticClass:"btn-small btn-secondary",staticStyle:{position:"absolute",top:"2px",right:"50px"},on:{click:function(i){return t.deleteEntry(e)}}},[t._v("Delete")]):t._e(),i("button",{staticClass:"btn-small btn-secondary",staticStyle:{position:"absolute",top:"2px",right:"2px"},on:{click:function(i){return t.changeMode(e)}}},[t._v("Edit")])])]),e.editMode?i("recipe-edit-form",{key:e.recipe.name,attrs:{recipe:e.recipe},on:{submit:function(t){e.editMode=!1}}}):t._e()],1)}))],2)},a=[],r=i("9ab4"),l=i("60a3"),c=i("b850"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.recipe.name,expression:"recipe.name"}],staticClass:"disabled",staticStyle:{margin:"0 0 5px 0",width:"100%"},attrs:{readonly:"",placeholder:"Name"},domProps:{value:t.recipe.name},on:{input:function(e){e.target.composing||t.$set(t.recipe,"name",e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.recipe.time,expression:"recipe.time"}],staticStyle:{margin:"0 0 5px 0",width:"100%"},attrs:{placeholder:"Time (seconds)",type:"number"},domProps:{value:t.recipe.time},on:{input:function(e){e.target.composing||t.$set(t.recipe,"time",e.target.value)}}}),i("div",{staticClass:"clearfix"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedInput,expression:"selectedInput"}],staticStyle:{margin:"0 0 5px 0",width:"calc(100% - 35px)",float:"left"},attrs:{placeholder:"Select Inputs",list:"recipes-create"},domProps:{value:t.selectedInput},on:{keyup:t.onKeyUpRecipeIn,input:function(e){e.target.composing||(t.selectedInput=e.target.value)}}}),i("button",{staticClass:"btn-small",staticStyle:{float:"left","font-size":"19px"},on:{click:t.addSelectedInput}},[t._v("+")]),i("datalist",{attrs:{id:"recipes-create"}},t._l(t.store.book.getRecipeOutputs(),(function(t){return i("option",{key:t.recipeName,attrs:{"data-id":t.recipeName},domProps:{value:t.recipeName}})})),0)]),t.recipe.inputs.length>0?i("div",{staticStyle:{float:"none",width:"100%"}},[i("label",{staticClass:"header-border"},[t._v("Ingredients")]),i("div",{staticStyle:{padding:"10px","background-color":"var(--white-dark-light-80)"}},t._l(t.recipe.inputs,(function(e){return i("ingredient-list-item",{key:e.recipeName,attrs:{ingredient:e},on:{"ingredient-amount-modify":function(i){return t.modifyInputAmount(e,i)}}})})),1)]):t._e(),i("br"),i("hr"),i("br"),1==t.recipe.outputs.length?i("fieldset",{staticClass:"form-group"},[i("label",{staticClass:"paper-switch-label",attrs:{for:"paperSwitch7"}},[t._v("Has multiple outputs")]),i("label",{staticClass:"paper-switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.hasMultipleOutputs,expression:"hasMultipleOutputs"}],attrs:{id:"paperSwitch7",name:"paperSwitch7",type:"checkbox"},domProps:{checked:Array.isArray(t.hasMultipleOutputs)?t._i(t.hasMultipleOutputs,null)>-1:t.hasMultipleOutputs},on:{change:function(e){var i=t.hasMultipleOutputs,s=e.target,n=!!s.checked;if(Array.isArray(i)){var o=null,a=t._i(i,o);s.checked?a<0&&(t.hasMultipleOutputs=i.concat([o])):a>-1&&(t.hasMultipleOutputs=i.slice(0,a).concat(i.slice(a+1)))}else t.hasMultipleOutputs=n}}}),i("span",{staticClass:"paper-switch-slider round"})])]):t._e(),t.hasMultipleOutputs?i("div",[i("div",{staticClass:"clearfix"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedOutput,expression:"selectedOutput"}],staticStyle:{margin:"0 0 5px 0",width:"calc(100% - 35px)",float:"left"},attrs:{placeholder:"Enter Ouput",list:"recipes-create"},domProps:{value:t.selectedOutput},on:{keyup:t.onKeyUpRecipeOut,input:function(e){e.target.composing||(t.selectedOutput=e.target.value)}}}),i("button",{staticClass:"btn-small",staticStyle:{float:"left","font-size":"19px"},on:{click:t.addSelectedOutput}},[t._v("+")])])]):t._e(),t.hasMultipleOutputs?t._e():i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticStyle:{margin:"0 0 5px 0",width:"100%"},attrs:{placeholder:"Output (amount)",type:"number"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}})]),t.recipe.outputs.length>1||t.hasMultipleOutputs?i("div",{staticStyle:{float:"none",width:"100%"}},[i("label",{staticClass:"header-border"},[t._v("Outputs")]),i("div",{staticStyle:{padding:"10px","background-color":"var(--white-dark-light-80)"}},t._l(t.recipe.outputs,(function(e){return i("ingredient-list-item",{key:e.recipeName,attrs:{ingredient:e},on:{"ingredient-amount-modify":function(i){return t.modifyOutputAmount(e,i)}}})})),1)]):t._e(),i("br"),i("div",{staticClass:"action-bar"},[i("button",{staticClass:"btn-secondary action-bar-item",on:{click:function(e){return t.submit()}}},[t._v("Save")])])])])},d=[],p=i("4fd4"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("label",{staticStyle:{margin:"0.15rem"}},[i("strong",[t._v(t._s(t.ingredient.amount)+"x")]),t._v(" "+t._s(t.ingredient.recipeName))]),i("button",{staticClass:"btn-small action-btn",on:{mousedown:function(e){return t.onMouseDown(e,1)}}},[t._v("+")]),i("button",{staticClass:"btn-small action-btn",on:{mousedown:function(e){return t.onMouseDown(e,-1)}}},[t._v("-")])])},m=[];class v{static onPress(t,e,i=300,s=1.5,n=5){let o;const a=function(){e(),o=setTimeout(a,i),i=Math.max(i/s,n)};function r(){clearTimeout(o),t.removeEventListener("mouseup",r)}t.addEventListener("mouseup",r),a()}}var f=i("2b0e");let b=class extends f["a"]{ingredientAmountModify(t){}onMouseDown(t,e){v.onPress(t.target,()=>{this.$emit("ingredient-amount-modify",e)})}};Object(r["a"])([Object(l["d"])({required:!0})],b.prototype,"ingredient",void 0),Object(r["a"])([Object(l["b"])("ingredient-amount-modify")],b.prototype,"ingredientAmountModify",null),b=Object(r["a"])([Object(l["a"])({})],b);var g=b,y=g,k=(i("2a6a"),i("0c7c")),w=Object(k["a"])(y,h,m,!1,null,"c64e339a",null),S=w.exports;let O=class extends(Object(l["c"])(c["a"])){constructor(){super(...arguments),this.selectedInput="",this.amount=this.recipe.outputs[0].amount,this.selectedOutput="",this.hasMultipleOutputs=this.recipe.outputs.length>1}submitted(){}requestChanged(t){isNaN(t)||(this.recipe.outputs[0].amount=Number(t))}submit(){""!=this.recipe.name&&this.recipe.time>=0&&this.recipe.outputs[0].amount>=0&&this.store.saveBook(),this.$emit("submit")}addSelectedInput(){const t=this.store.book.findRecipe(this.selectedInput);if(null!=t){for(let e=0;e<this.recipe.inputs.length;e++)if(this.recipe.inputs[e].recipeName==t.name)return this.recipe.inputs[e].amount++,void(this.selectedInput="");this.recipe.inputs.push(new p["c"](1,t.name)),this.selectedInput=""}}addSelectedOutput(){const t=this.selectedOutput;for(let e=0;e<this.recipe.outputs.length;e++)if(this.recipe.outputs[e].recipeName==t)return this.recipe.outputs[e].amount++,void(this.selectedInput="");this.recipe.outputs.push(new p["c"](1,t)),this.selectedOutput=""}modifyInputAmount(t,e){t.amount+e>0?t.amount+=e:this.recipe.inputs.splice(this.recipe.inputs.indexOf(t),1)}modifyOutputAmount(t,e){t.amount+e>0?t.amount+=e:this.recipe.outputs.splice(this.recipe.inputs.indexOf(t),1)}onKeyUpRecipeIn(t){"Enter"==t.key&&this.addSelectedInput()}onKeyUpRecipeOut(t){"Enter"==t.key&&this.addSelectedOutput()}};Object(r["a"])([Object(l["d"])({required:!0})],O.prototype,"recipe",void 0),Object(r["a"])([Object(l["b"])("submit")],O.prototype,"submitted",null),Object(r["a"])([Object(l["e"])("amount")],O.prototype,"requestChanged",null),O=Object(r["a"])([Object(l["a"])({components:{IngredientListItem:S}})],O);var _=O,x=_,C=(i("eb8c"),Object(k["a"])(x,u,d,!1,null,null,null)),M=C.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card",staticStyle:{cursor:"pointer"},on:{click:function(e){t.adding=!0}}},[i("div",{staticClass:"card-body",class:{"card-add":!t.adding},staticStyle:{transition:"all 1s ease 1s"}},[t.adding?t._e():i("span",{staticClass:"material-icons material-icons-large"},[t._v("add_circle_outline")]),t.adding?i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticStyle:{margin:"0 0 5px 0",width:"100%"},attrs:{placeholder:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"time"}],staticStyle:{margin:"0 0 5px 0",width:"100%"},attrs:{placeholder:"Time (seconds)",type:"number"},domProps:{value:t.time},on:{input:function(e){e.target.composing||(t.time=e.target.value)}}}),i("div",{staticClass:"clearfix"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedInput,expression:"selectedInput"}],staticStyle:{margin:"0 0 5px 0",width:"calc(100% - 35px)",float:"left"},attrs:{placeholder:"Select Inputs",list:"recipes-create"},domProps:{value:t.selectedInput},on:{keyup:t.onKeyUpRecipeIn,input:function(e){e.target.composing||(t.selectedInput=e.target.value)}}}),i("button",{staticClass:"btn-small",staticStyle:{float:"left","font-size":"19px"},on:{click:t.addSelectedInput}},[t._v("+")]),i("datalist",{attrs:{id:"recipes-create"}},t._l(t.store.book.getRecipeOutputs(),(function(t){return i("option",{key:t.recipeName,attrs:{"data-id":t.recipeName},domProps:{value:t.recipeName}})})),0)]),t.input.length>0?i("div",{staticStyle:{float:"none",width:"100%"}},[i("label",{staticClass:"header-border"},[t._v("Ingredients")]),i("div",{staticStyle:{padding:"10px","background-color":"var(--white-dark-light-80)"}},t._l(t.input,(function(e){return i("ingredient-list-item",{key:e.recipeName,attrs:{ingredient:e},on:{"ingredient-amount-modify":function(i){return t.modifyInputAmount(e,i)}}})})),1)]):t._e(),i("br"),i("hr"),i("br"),t.output.length<=1?i("fieldset",{staticClass:"form-group"},[i("label",{staticClass:"paper-switch-label",attrs:{for:"paperSwitch7"}},[t._v("Has multiple outputs")]),i("label",{staticClass:"paper-switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.hasMultipleOutputs,expression:"hasMultipleOutputs"}],attrs:{id:"paperSwitch7",name:"paperSwitch7",type:"checkbox"},domProps:{checked:Array.isArray(t.hasMultipleOutputs)?t._i(t.hasMultipleOutputs,null)>-1:t.hasMultipleOutputs},on:{change:function(e){var i=t.hasMultipleOutputs,s=e.target,n=!!s.checked;if(Array.isArray(i)){var o=null,a=t._i(i,o);s.checked?a<0&&(t.hasMultipleOutputs=i.concat([o])):a>-1&&(t.hasMultipleOutputs=i.slice(0,a).concat(i.slice(a+1)))}else t.hasMultipleOutputs=n}}}),i("span",{staticClass:"paper-switch-slider round"})])]):t._e(),t.hasMultipleOutputs?i("div",[i("div",{staticClass:"clearfix"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedOutput,expression:"selectedOutput"}],staticStyle:{margin:"0 0 5px 0",width:"calc(100% - 35px)",float:"left"},attrs:{placeholder:"Enter Ouput",list:"recipes-create"},domProps:{value:t.selectedOutput},on:{keyup:t.onKeyUpRecipeOut,input:function(e){e.target.composing||(t.selectedOutput=e.target.value)}}}),i("button",{staticClass:"btn-small",staticStyle:{float:"left","font-size":"19px"},on:{click:t.addSelectedOutput}},[t._v("+")])])]):t._e(),t.hasMultipleOutputs?t._e():i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticStyle:{margin:"0 0 5px 0",width:"100%"},attrs:{placeholder:"Output (amount)",type:"number"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}})]),t.output.length>1?i("div",{staticStyle:{float:"none",width:"100%"}},[i("label",{staticClass:"header-border"},[t._v("Outputs")]),i("div",{staticStyle:{padding:"10px","background-color":"var(--white-dark-light-80)"}},t._l(t.output,(function(e){return i("ingredient-list-item",{key:e.recipeName,attrs:{ingredient:e},on:{"ingredient-amount-modify":function(i){return t.modifyOutputAmount(e,i)}}})})),1)]):t._e(),i("br"),i("button",{staticClass:"btn-danger",staticStyle:{width:"50%"},on:{click:function(e){return e.stopPropagation(),t.cancel()}}},[t._v("Cancel")]),i("button",{staticClass:"btn-secondary",staticStyle:{width:"50%"},on:{click:function(e){return e.stopPropagation(),t.submit()}}},[t._v("Save")])]):t._e()])])},E=[],A=i("2fe1");let N=class extends(Object(l["c"])(c["a"])){constructor(){super(...arguments),this.adding=!1,this.name="",this.time="",this.amount="",this.input=new Array,this.selectedInput="",this.output=new Array,this.selectedOutput="",this.hasMultipleOutputs=!1}submit(){(""!=this.name&&""!=this.time&&this.hasMultipleOutputs||""!=this.amount&&!this.hasMultipleOutputs||this.output.length>0&&this.output[0].amount>0)&&(this.store.book.addRecipe(this.name,Number(this.time),Number(this.amount),this.output,this.input),this.store.saveBook(),this.clearFields(),this.adding=!1)}cancel(){this.clearFields(),this.adding=!1}clearFields(){this.name="",this.time="",this.amount="",this.input=[],this.output=[]}addSelectedInput(){const t=this.store.book.findRecipesWithOutputRecipe(this.selectedInput);if(0!=t.length){for(let t=0;t<this.input.length;t++)if(this.input[t].recipeName==this.selectedInput)return this.input[t].amount++,void(this.selectedInput="");this.input.push(new p["c"](1,this.selectedInput)),this.selectedInput=""}}addSelectedOutput(){const t=this.selectedOutput;for(let e=0;e<this.output.length;e++)if(this.output[e].recipeName==t)return this.output[e].amount++,void(this.selectedInput="");this.output.push(new p["c"](1,t)),this.selectedOutput=""}modifyInputAmount(t,e){t.amount+e>0?t.amount+=e:this.input.splice(this.input.indexOf(t),1)}modifyOutputAmount(t,e){t.amount+e>0?t.amount+=e:this.output.splice(this.input.indexOf(t),1)}onKeyUpRecipeIn(t){"Enter"==t.key&&this.addSelectedInput()}onKeyUpRecipeOut(t){"Enter"==t.key&&this.addSelectedOutput()}};N=Object(r["a"])([Object(A["b"])({components:{IngredientListItem:S}})],N);var B=N,j=B,$=(i("9171"),Object(k["a"])(j,I,E,!1,null,"1cc7a87e",null)),P=$.exports;class L{constructor(t,e){this.recipe=t,this.editMode=e}}let R=class extends(Object(l["c"])(c["a"])){changeMode(t){t.editMode=!t.editMode}isRecipeDeletable(t){return this.store.book.isRecipeDeletable(t.recipe)}deleteEntry(t){this.store.book.deleteRecipe(t.recipe),this.store.saveBook()}get getViewRecipes(){return this.store.book.getRecipes().map(t=>f["a"].observable(new L(t,!1)))}mounted(){const t=document.querySelector(".grid");this.animateChildren(t)}animateChildren(t){function e(t){return Array.from(t.children).map(t=>{const e=t.getBoundingClientRect();return{element:t,x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}})}function i(t,e){for(const i of e){const e=t.find(t=>t.element==i.element);if(!e)continue;const s=e.x-i.x,n=e.y-i.y,o=e.width/i.width,a=e.height/i.height;i.element.animate([{transform:`translate(${s}px, ${n}px) scale(${o}, ${a})`},{transform:"none"}],{duration:250,easing:"ease-out"})}}let s=e(t);const n=function(n,o){const a=e(t).slice(1);s&&i(s,a),s=a};new MutationObserver(n).observe(t,{childList:!0})}};R=Object(r["a"])([Object(l["a"])({components:{RecipeEditForm:M,RecipeCreateForm:P}})],R);var D=R,T=D,U=(i("b642"),Object(k["a"])(T,o,a,!1,null,"1ca5bddc",null)),F=U.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"clearfix"},[i("library-create-form",{ref:"cf",on:{added:t.addedBook}}),t._l(t.booksViewModel,(function(e){return i("div",{key:e.name,staticClass:"card",class:{"card-selected":e.bookInfo.name==t.store.book.name},staticStyle:{width:"10rem"},on:{click:function(i){return t.selectedBook(e.bookInfo)},contextmenu:function(i){return i.preventDefault(),t.openContextMenu(e.bookInfo,i)}}},[e.editing?t._e():i("div",{staticClass:"card-body"},[i("h4",{staticClass:"card-title"},[t._v(t._s(e.bookInfo.name))]),i("h5",{staticClass:"card-subtitle"},[t._v(t._s(e.bookInfo.desc))]),i("button",{staticClass:"btn-small btn-secondary btn-corner",on:{click:function(i){return i.stopPropagation(),t.startEditModeBookInfo(e)}}},[t._v("Edit")])]),e.editing?i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.newBookInfo.name,expression:"vm.newBookInfo.name"}],staticStyle:{width:"100%"},attrs:{placeholder:"Name"},domProps:{value:e.newBookInfo.name},on:{input:function(i){i.target.composing||t.$set(e.newBookInfo,"name",i.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.newBookInfo.desc,expression:"vm.newBookInfo.desc"}],staticStyle:{width:"100%"},attrs:{placeholder:"Description"},domProps:{value:e.newBookInfo.desc},on:{input:function(i){i.target.composing||t.$set(e.newBookInfo,"desc",i.target.value)}}}),i("div",{staticClass:"action-bar"},[i("button",{staticClass:"action-bar-item btn-secondary btn-small",on:{click:function(i){return i.stopPropagation(),t.endEditModeBookInfo(e)}}},[t._v("Save")])])]):t._e()])})),i("vue-context",{ref:"menu",staticClass:"border border-primary",staticStyle:{width:"auto"}},[i("li",{on:{click:function(e){return e.preventDefault(),t.deleteBookCM()}}},[i("i",{staticClass:"material-icons"},[t._v("delete")]),t._v(" Delete ")]),i("li",{on:{click:function(e){return e.preventDefault(),t.copyBookCM()}}},[i("i",{staticClass:"material-icons"},[t._v("content_copy")]),t._v(" Copy ")]),i("li",{on:{click:function(e){return e.preventDefault(),t.shareBookCM()}}},[i("i",{staticClass:"material-icons"},[t._v("share")]),t._v(" Share ")])])],2)},V=[],K="2.2.2",q=/^2\./.test(f["a"].version);q||f["a"].util.warn("VueClickaway "+K+" only supports Vue 2.x, and does not support Vue "+f["a"].version);var z="_vue_clickaway_handler";function W(t,e,i){G(t);var s=i.context,n=e.value;if("function"===typeof n){var o=!1;setTimeout((function(){o=!0}),0),t[z]=function(e){var i=e.path||(e.composedPath?e.composedPath():void 0);if(o&&(i?i.indexOf(t)<0:!t.contains(e.target)))return n.call(s,e)},document.documentElement.addEventListener("click",t[z],!1)}}function G(t){document.documentElement.removeEventListener("click",t[z],!1),delete t[z]}var J={bind:W,update:function(t,e){e.value!==e.oldValue&&W(t,e)},unbind:G};Array.from||(Array.from=t=>[].slice.call(t)),Array.isArray||(Array.isArray=t=>"[object Array]"===Object.prototype.toString.call(t));const X=Array.from,Y=Array.isArray,Q={ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40},Z=(t,e)=>!(!t||"function"!==typeof t.contains)&&t.contains(e),tt=(t,e,i)=>{t&&t.addEventListener&&t.addEventListener(e,i)},et=(t,e,i)=>{t&&t.removeEventListener&&t.removeEventListener(e,i)},it=t=>(t||[]).filter(ot),st=t=>nt(t)?t.getBoundingClientRect():null,nt=t=>Boolean(t&&t.nodeType===Node.ELEMENT_NODE),ot=t=>{if(!nt(t)||!Z(document.body,t))return!1;if("none"===t.style.display)return!1;const e=st(t);return Boolean(e&&e.height>0&&e.width>0)},at=(t,e)=>X((nt(e)?e:document).querySelectorAll(t)),rt=(t,e,i)=>{e&&nt(t)&&t.setAttribute(e,i)},lt=(t,e)=>{let i=t.parentElement;while(null!==i&&!i.classList.contains(e))i=i.parentElement;return i},ct=(t,e={},i={},s={})=>{const n=i[t]||s[t];return"function"===typeof n?n(e):n};var ut,dt={directives:{onClickaway:J},props:{closeOnClick:{type:Boolean,default:!0},closeOnScroll:{type:Boolean,default:!0},lazy:{type:Boolean,default:!1},itemSelector:{type:[String,Array],default:()=>[".v-context-item",".v-context > li > a"]},role:{type:String,default:"menu"},subMenuOffset:{type:Number,default:10},useScrollHeight:{type:Boolean,default:!1},useScrollWidth:{type:Boolean,default:!1},heightOffset:{type:Number,default:25},widthOffset:{type:Number,default:25},tag:{type:String,default:"ul"}},computed:{style(){return this.show?{top:this.top+"px",left:this.left+"px"}:null}},data(){return{top:null,left:null,show:!1,data:null,localItemSelector:"",activeSubMenu:null}},created(){this.localItemSelector=this.mapItemSelector(this.itemSelector)},beforeDestroy(){this.closeOnScroll&&this.removeScrollEventListener()},methods:{addScrollEventListener(){tt(window,"scroll",this.close)},addHoverEventListener(t){t.querySelectorAll(".v-context__sub").forEach(t=>{tt(t,"mouseenter",this.openSubMenu),tt(t,"mouseleave",this.closeSubMenu)})},close(){if(this.show){while(null!==this.activeSubMenu)lt(this.activeSubMenu,"v-context__sub").dispatchEvent(new Event("mouseleave"));this.resetData(),this.removeHoverEventListener(this.$el),this.closeOnScroll&&this.removeScrollEventListener(),this.$emit("close")}},focusItem(t,e){const i=e.find((e,i)=>i===t);i&&i.focus()},focusNext(t,e){this.show&&(t.preventDefault(),t.stopPropagation(),this.$nextTick(()=>{const i=this.getItems();if(i.length<1)return;let s=i.indexOf(t.target);e&&s>0?s--:!e&&s<i.length-1&&s++,s<0&&(s=0),this.focusItem(s,i)}))},getItems(){return it(at(this.localItemSelector,this.activeSubMenu||this.$el))},mapItemSelector(t){return Y(t)&&(t=t.map(t=>t+":not(.disabled):not([disabled])").join(", ")),t},onClick(){this.close()},onKeydown(t){const e=t.keyCode;if(e===Q.ESC)this.close();else if(e===Q.DOWN)this.focusNext(t,!1);else if(e===Q.UP)this.focusNext(t,!0);else if(e===Q.RIGHT){const e=lt(t.target,"v-context__sub");e&&e.getElementsByClassName("v-context")[0]!==this.activeSubMenu&&(e.dispatchEvent(new Event("mouseenter")),this.focusNext(t,!1))}else if(e===Q.LEFT){if(!this.activeSubMenu)return;const t=lt(this.activeSubMenu,"v-context__sub");t.dispatchEvent(new Event("mouseleave"));const e=this.getItems(),i=e.indexOf(t.getElementsByTagName("a")[0]);this.focusItem(i,e)}},open(t,e){this.data=e,this.show=!0,this.$nextTick(()=>{[this.top,this.left]=this.positionMenu(t.clientY,t.clientX,this.$el),this.$el.focus(),this.setItemRoles(),this.addHoverEventListener(this.$el),this.closeOnScroll&&this.addScrollEventListener(),this.$emit("open",t,this.data,this.top,this.left)})},openSubMenu(t){const e=this.getSubMenuElementByEvent(t),i=lt(e.parentElement,"v-context"),s=st(t.target);if(this.activeSubMenu!==i)while(null!==this.activeSubMenu&&this.activeSubMenu!==i&&this.activeSubMenu!==e)lt(this.activeSubMenu,"v-context__sub").dispatchEvent(new Event("mouseleave"));e.style.display="block";let[n,o]=this.positionMenu(s.top,s.right-this.subMenuOffset,e);e.style.left=o+"px",e.style.top=n+"px",this.activeSubMenu=e},closeSubMenu(t){const e=this.getSubMenuElementByEvent(t),i=lt(e,"v-context");if(this.activeSubMenu!==e)while(null!==this.activeSubMenu&&this.activeSubMenu!==e)lt(this.activeSubMenu,"v-context__sub").dispatchEvent(new Event("mouseleave"));e.style.display="none",this.activeSubMenu=i&&lt(i,"v-context__sub")?i:null},getSubMenuElementByEvent(t){return t.target.getElementsByTagName("ul")[0]},positionMenu(t,e,i){const s=this.useScrollHeight?i.scrollHeight:i.offsetHeight,n=window.innerHeight-s-this.heightOffset,o=this.useScrollWidth?i.scrollWidth:i.offsetWidth,a=window.innerWidth-o-this.widthOffset;return t>n&&(t=n),e>a&&(e=a),[t,e]},removeScrollEventListener(){et(window,"scroll",this.close)},removeHoverEventListener(t){t.querySelectorAll(".v-context__sub").forEach(t=>{et(t,"mouseenter",this.openSubMenu),et(t,"mouseleave",this.closeSubMenu)})},resetData(){this.top=null,this.left=null,this.data=null,this.show=!1},setItemRoles(){at(this.localItemSelector,this.$el).forEach(t=>{rt(t,"role","menuitem"),rt(t,"tabindex","-1")})}},watch:{closeOnScroll(t,e){t!==e&&(t&&this.show?this.addScrollEventListener():this.removeScrollEventListener())},itemSelector(t,e){t!==e&&(this.localItemSelector=this.mapItemSelector(t))}},render(t){if(this.lazy&&!this.show)return t(!1);const e={"!contextmenu":t=>{t.preventDefault()},keydown:this.onKeydown};this.closeOnClick&&(e.click=this.onClick);const i=[{name:"on-clickaway",value:this.close,rawName:"v-on-clickaway"}];return this.lazy||i.push({name:"show",value:this.show,rawName:"v-show",expression:"show"}),t(this.tag,{staticClass:"v-context",style:this.style,attrs:{tabindex:"-1",role:this.role,"aria-hidden":this.lazy?null:String(!this.show)},on:e,directives:i},[ct("default",{data:this.data},this.$scopedSlots,this.$slots)])}},pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card",on:{click:function(e){t.isAdding=!0}}},[[t.isAdding?t._e():i("div",{staticClass:"card-body card-add"},[i("span",{staticClass:"material-icons material-icons-large"},[t._v("add_circle_outline")])])],[t.isAdding?i("div",{staticClass:"card-body",staticStyle:{padding:"0"}},[t.modeSelection?i("div",[i("button",{staticClass:"button button-primary",staticStyle:{width:"100%"},on:{click:function(e){return t.addEmpty()}}},[t._v("Empty")]),i("button",{staticClass:"button button-primary",staticStyle:{width:"100%"},on:{click:function(e){return t.importFromClipboard()}}},[t._v("Import from clipboard")])]):t._e(),t.modeSelection?t._e():i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.bookAdding.name,expression:"bookAdding.name"}],staticStyle:{width:"100%"},attrs:{placeholder:"Name"},domProps:{value:t.bookAdding.name},on:{input:function(e){e.target.composing||t.$set(t.bookAdding,"name",e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.bookAdding.desc,expression:"bookAdding.desc"}],staticStyle:{width:"100%"},attrs:{placeholder:"Description"},domProps:{value:t.bookAdding.desc},on:{input:function(e){e.target.composing||t.$set(t.bookAdding,"desc",e.target.value)}}}),i("div",{staticClass:"action-bar"},[i("button",{staticClass:"action-bar-item btn-danger btn-small",on:{click:function(e){e.stopPropagation(),t.isAdding=!1}}},[t._v("Cancel")]),i("button",{staticClass:"action-bar-item btn-secondary btn-small",on:{click:function(e){return e.stopPropagation(),t.addBook()}}},[t._v("Save")])])])]):t._e()]],2)},ht=[];(function(t){t[t["Chrome"]=0]="Chrome",t[t["EdgeChromium"]=1]="EdgeChromium",t[t["Edge"]=2]="Edge",t[t["Firefox"]=3]="Firefox",t[t["Opera"]=4]="Opera",t[t["IE"]=5]="IE",t[t["Safari"]=6]="Safari",t[t["Unknown"]=7]="Unknown"})(ut||(ut={}));class mt{static checkBrowser(){return navigator.userAgent.search("MSIE")?ut.IE:navigator.userAgent.search("Chrome")?ut.Chrome:navigator.userAgent.search("Firefox")?ut.Firefox:navigator.userAgent.search("Safari")?ut.Safari:navigator.userAgent.search("Opera")?ut.Opera:ut.Unknown}}let vt=class extends(Object(l["c"])(c["a"])){constructor(){super(...arguments),this.isAdding=!1,this.modeSelection=!0,this.bookAdding={}}added(t){}addEmpty(){this.modeSelection=!1}importFromClipboard(){const t=mt.checkBrowser();switch(t){case ut.Firefox:alert("Get a good browser"),this.endAdd(null);break;default:navigator.clipboard.readText().then(t=>{const e=this.store.library.importBook(t);this.endAdd(e)});break}}tryParseText(t){try{const e=JSON.parse(t),i=e.name+"_Import";null!=e.name&&null!=e.desc&&null!=e.recipes&&this.store.library.addBook(i,e.desc,e.recipes),this.endAdd(i)}catch(e){this.endAdd(null)}}addBook(){const t=this.store.library.addBook(this.bookAdding.name,this.bookAdding.desc,[]);t&&this.endAdd(this.bookAdding.name)}endAdd(t){this.isAdding=!1,this.modeSelection=!0,this.$emit("added",t)}};Object(r["a"])([Object(l["b"])("added")],vt.prototype,"added",null),vt=Object(r["a"])([Object(l["a"])({})],vt);var ft=vt,bt=ft,gt=(i("88ba"),Object(k["a"])(bt,pt,ht,!1,null,"07142a4a",null)),yt=gt.exports;class kt{constructor(t,e,i){this.bookInfo=t,this.editing=e,this.newBookInfo=i}}let wt=class extends(Object(l["c"])(c["a"])){constructor(){super(...arguments),this.isAdding=!1}created(){this.store.book;this.booksViewModel=f["a"].observable(this.store.library.getBookInfos().map(t=>new kt(t,!1,null)))}addedBook(t){if(null==t)return;const e=this.store.library.tryGetBookInfo(t);this.booksViewModel.splice(0,0,new kt(e,!1,null)),this.$forceUpdate()}startEditModeBookInfo(t){t.editing=!0,t.newBookInfo=JSON.parse(JSON.stringify(t.bookInfo))}endEditModeBookInfo(t){t.editing=!1,this.store.library.updateBookInfo(t.bookInfo.name,t.newBookInfo),t.newBookInfo=null}selectedBook(t){const e=this.store.library.loadBook(t.name);this.store.book=e}openContextMenu(t,e){this.bookCM=t;const i=this.$refs.menu;i.open(e)}deleteBookCM(){this.store.library.removeBook(this.bookCM.name),this.booksViewModel=f["a"].observable(this.booksViewModel.filter(t=>t.bookInfo.name!=this.bookCM.name)),this.$forceUpdate()}shareBookCM(){this.store.library.shareBook(this.bookCM.name)}copyBookCM(){const t=this.store.library.copyBook(this.bookCM.name),e=this.store.library.tryGetBookInfo(t);null!=e&&(this.booksViewModel.splice(0,0,new kt(e,!1,null)),this.$forceUpdate())}};wt=Object(r["a"])([Object(l["a"])({components:{VueContext:dt,LibraryCreateForm:yt}})],wt);var St=wt,Ot=St,_t=(i("4d3b"),Object(k["a"])(Ot,H,V,!1,null,"3b7984ef",null)),xt=_t.exports,Ct={components:{RecipeList:F,LibraryList:xt}},Mt=Ct,It=Object(k["a"])(Mt,s,n,!1,null,null,null);e["default"]=It.exports},"72fd":function(t,e,i){},"88ba":function(t,e,i){"use strict";i("e81d")},9171:function(t,e,i){"use strict";i("f555")},ab9a:function(t,e,i){},b642:function(t,e,i){"use strict";i("1982")},e81d:function(t,e,i){},eb8c:function(t,e,i){"use strict";i("29cc")},f555:function(t,e,i){}}]);
//# sourceMappingURL=about.a84d0055.js.map