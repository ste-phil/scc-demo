(function(e){function t(t){for(var i,a,o=t[0],s=t[1],u=t[2],p=0,d=[];p<o.length;p++)a=o[p],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&d.push(c[a][0]),c[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,o=1;o<n.length;o++){var s=n[o];0!==c[s]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},c={app:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"30e5":function(e,t,n){"use strict";n("6b07")},"4e8c":function(e,t,n){"use strict";n("8b05")},"56d7":function(e,t,n){"use strict";n.r(t);n("4de4"),n("a434"),n("b0c0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),c={class:"row",style:{"margin-bottom":"0px"}},r={class:"lg-2 sm-4 col sb2",style:{height:"100vh","overflow-y":"auto"}},a={style:{height:"50px"}},o={class:"col-fill col"};function s(e,t,n,s,u,l){var p=Object(i["l"])("button-img"),d=Object(i["l"])("create-recipe-form"),b=Object(i["l"])("recipe-list"),f=Object(i["l"])("chain-resolver");return Object(i["g"])(),Object(i["c"])("div",c,[Object(i["f"])("div",r,[Object(i["f"])("div",a,[Object(i["f"])(p,{onClick:t[1]||(t[1]=function(e){return u.createFormVisible=!0}),style:{margin:"3px",height:"100%","z-index":"1000"},icon:"gg-add",text:"Add","popover-text":"Add new Recipe","popover-position":"popover-bottom"}),Object(i["f"])(p,{class:"to-clipboard",style:{margin:"3px",height:"100%","z-index":"1000"},icon:"gg-export","popover-text":"Export Recipe","popover-position":"popover-bottom"}),Object(i["f"])(p,{onClick:t[2]||(t[2]=function(t){return e.importRecipes()}),style:{margin:"3px",height:"100%","z-index":"1000"},icon:"gg-import","popover-text":"Import Recipe","popover-position":"popover-bottom"})]),Object(i["f"])(d,{visible:u.createFormVisible,"onUpdate:visible":t[3]||(t[3]=function(e){return u.createFormVisible=e})},null,8,["visible"]),Object(i["f"])(b)]),Object(i["f"])("div",o,[Object(i["f"])(f)])])}var u=Object(i["q"])("data-v-1f2ab559");Object(i["i"])("data-v-1f2ab559");var l={class:"paper"},p=Object(i["f"])("hr",null,null,-1),d={class:"paper"};Object(i["h"])();var b=u((function(e,t,n,c,r,a){var o=Object(i["l"])("chain-input-form"),s=Object(i["l"])("chain-calculator");return Object(i["g"])(),Object(i["c"])(i["a"],null,[Object(i["f"])("div",l,[Object(i["f"])(o,{onResolveRequested:a.resolveRequested},null,8,["onResolveRequested"])]),p,Object(i["f"])("div",d,[Object(i["f"])(s,{request:r.request},null,8,["request"])])],64)})),f=Object(i["q"])("data-v-5ae9448c");Object(i["i"])("data-v-5ae9448c");var m={class:"form-group"},O=Object(i["f"])("label",{for:"recipeName"},"Recipe to make",-1),j={id:"recipes"},h={class:"form-group"},v=Object(i["f"])("label",{for:"request.amount"},"Amount (per second)",-1);Object(i["h"])();var g=f((function(e,t,n,c,r,a){return Object(i["g"])(),Object(i["c"])(i["a"],null,[Object(i["f"])("div",m,[O,Object(i["p"])(Object(i["f"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.recipeName=e}),placeholder:"Select Recipe",list:"recipes"},null,512),[[i["o"],r.recipeName]]),Object(i["f"])("datalist",j,[(Object(i["g"])(!0),Object(i["c"])(i["a"],null,Object(i["k"])(e.repository.getRecipes(),(function(e){return Object(i["g"])(),Object(i["c"])("option",{key:e,value:e.name,"data-id":e.id},null,8,["value","data-id"])})),128))])]),Object(i["f"])("div",h,[v,Object(i["p"])(Object(i["f"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.request.amount=e}),type:"number"},null,512),[[i["o"],r.request.amount]])]),Object(i["f"])("button",{onClick:t[3]||(t[3]=function(){return a.tryRequest.apply(a,arguments)})},"Calculate")],64)})),y={name:"chain-input-form",data:function(){return{recipeName:"",request:{recipeId:"",amount:1}}},emits:{"resolve-requested":function(e){return!(!e.recipeId||!e.amount)}},methods:{tryRequest:function(){var e=this.repository.findRecipeByName(this.recipeName);e&&this.request.amount>0&&this.$emit("resolve-requested",{recipeId:e.id,amount:this.request.amount})}}};y.render=g,y.__scopeId="data-v-5ae9448c";var R=y,x=Object(i["q"])("data-v-1a5515fe");Object(i["i"])("data-v-1a5515fe");var I={class:"form-group",style:{float:"right",top:"0",right:"0",cursor:"pointer"}},k=Object(i["f"])("label",{class:"paper-switch-label"},"Required Factories",-1),S={class:"paper-switch"},w=Object(i["f"])("span",{class:"paper-switch-slider round"},null,-1),q=Object(i["f"])("label",{class:"paper-switch-label"},"Items per seconds",-1),N=Object(i["f"])("p",null,"Results:",-1),M=Object(i["f"])("br",null,null,-1),C={key:0},_=Object(i["e"])("/s "),P={key:1},F=Object(i["e"])(" Factories ");Object(i["h"])();var V=x((function(e,t,n,c,r,a){return Object(i["g"])(),Object(i["c"])(i["a"],null,[Object(i["f"])("fieldset",I,[k,Object(i["f"])("label",S,[Object(i["p"])(Object(i["f"])("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.itemsPerSecondsMode=e})},null,512),[[i["n"],r.itemsPerSecondsMode]]),w]),q]),N,M,Object(i["f"])("div",null,[r.itemsPerSecondsMode?(Object(i["g"])(),Object(i["c"])("div",C,[(Object(i["g"])(!0),Object(i["c"])(i["a"],null,Object(i["k"])(r.results,(function(e){return Object(i["g"])(),Object(i["c"])("p",{key:e},[Object(i["e"])(Object(i["m"])(e.name)+": ",1),Object(i["f"])("strong",null,Object(i["m"])(Math.round(100*e.perSecond)/100),1),_])})),128))])):Object(i["d"])("",!0),r.itemsPerSecondsMode?Object(i["d"])("",!0):(Object(i["g"])(),Object(i["c"])("div",P,[(Object(i["g"])(!0),Object(i["c"])(i["a"],null,Object(i["k"])(r.results,(function(e){return Object(i["g"])(),Object(i["c"])("p",{key:e},[Object(i["e"])(Object(i["m"])(e.name)+": ",1),Object(i["f"])("strong",null,Object(i["m"])(Math.round(100*e.amountFactories)/100),1),F])})),128))]))])],64)})),$={name:"chain-calculator",data:function(){return{itemsPerSecondsMode:!0,results:[]}},props:["request"],watch:{request:function(e){var t={},n=this.$data.repository.findRecipe(e.recipeId),i=e.amount;this.resolveRequirements(t,n,i),this.prepareResults(t)}},methods:{resolveRequirements:function(e,t,n){for(var i=0;i<t.input.length;i++){var c=this.$data.repository.findRecipe(t.input[i].recipeId),r=n*c.amount/t.time;e[c.id]||(e[c.id]=0),e[c.id]+=r,c.input.length>0&&this.resolveRequirements(e,c,r)}},prepareResults:function(e){for(var t in this.results=[],e){var n=this.$data.repository.findRecipe(t);this.results.push({id:t,name:n.name,amountFactories:e[t]*n.time,perSecond:e[t]})}this.results.reverse()}}};$.render=V,$.__scopeId="data-v-1a5515fe";var A=$,J={name:"chain-resolver",data:function(){return{request:null}},components:{ChainInputForm:R,ChainCalculator:A},methods:{resolveRequested:function(e){this.request=e}}};J.render=b,J.__scopeId="data-v-1f2ab559";var U=J,T=Object(i["q"])("data-v-4a855c4c");Object(i["i"])("data-v-4a855c4c");var z={key:0,class:"card",style:{width:"100%",margin:"10px 0 10px 0"}},B={class:"card-body"},E={class:"clearfix"},G={id:"recipes-create"},L={key:0,style:{float:"none",width:"100%"}},D=Object(i["f"])("hr",null,null,-1),H=Object(i["f"])("label",{class:"border"},"Ingredients",-1),K={style:{padding:"10px","background-color":"var(--white-dark-light-80)"}},Q=Object(i["f"])("br",null,null,-1);Object(i["h"])();var W=T((function(e,t,n,c,r,a){var o=Object(i["l"])("ingredient-list-item");return n.visible?(Object(i["g"])(),Object(i["c"])("div",z,[Object(i["f"])("div",B,[Object(i["p"])(Object(i["f"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.name=e}),style:{margin:"0 0 5px 0",width:"100%"},placeholder:"Name"},null,512),[[i["o"],r.name]]),Object(i["p"])(Object(i["f"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.time=e}),style:{margin:"0 0 5px 0",width:"100%"},placeholder:"Time",type:"number"},null,512),[[i["o"],r.time]]),Object(i["p"])(Object(i["f"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.amount=e}),style:{margin:"0 0 5px 0",width:"100%"},placeholder:"Amount",type:"number"},null,512),[[i["o"],r.amount]]),Object(i["f"])("div",E,[Object(i["p"])(Object(i["f"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.selectedInput=e}),placeholder:"Select Inputs",list:"recipes-create",style:{margin:"0 0 5px 0",width:"calc(100% - 35px)",float:"left"}},null,512),[[i["o"],r.selectedInput]]),Object(i["f"])("button",{onClick:t[5]||(t[5]=function(){return a.addSelectedInput.apply(a,arguments)}),class:"btn-small",style:{float:"left","font-size":"19px"}},"+"),Object(i["f"])("datalist",G,[(Object(i["g"])(!0),Object(i["c"])(i["a"],null,Object(i["k"])(e.repository.getRecipes(),(function(e){return Object(i["g"])(),Object(i["c"])("option",{key:e,value:e.name,"data-id":e.id},null,8,["value","data-id"])})),128))])]),r.input.length>0?(Object(i["g"])(),Object(i["c"])("div",L,[D,H,Object(i["f"])("div",K,[(Object(i["g"])(!0),Object(i["c"])(i["a"],null,Object(i["k"])(r.input,(function(e){return Object(i["g"])(),Object(i["c"])(o,{key:e,ingredient:e,onIngredientAmountModify:function(t){return a.modifiyIngredientAmount(e,t)}},null,8,["ingredient","onIngredientAmountModify"])})),128))])])):Object(i["d"])("",!0),Q,Object(i["f"])("button",{onClick:t[6]||(t[6]=function(e){return a.cancel()}),style:{width:"50%"},class:"btn-danger"},"Cancel"),Object(i["f"])("button",{onClick:t[7]||(t[7]=function(e){return a.submit()}),style:{width:"50%"},class:"btn-secondary"},"Save")])])):Object(i["d"])("",!0)})),X=(n("c975"),Object(i["q"])("data-v-5df83f16"));Object(i["i"])("data-v-5df83f16");var Y={style:{margin:"0.15rem"}};Object(i["h"])();var Z=X((function(e,t,n,c,r,a){return Object(i["g"])(),Object(i["c"])("div",null,[Object(i["f"])("label",Y,[Object(i["f"])("strong",null,Object(i["m"])(n.ingredient.amount)+"x",1),Object(i["e"])(" "+Object(i["m"])(n.ingredient.name),1)]),Object(i["f"])("button",{class:"btn-small action-btn",onClick:t[1]||(t[1]=function(t){return e.$emit("ingredient-amount-modify",1)})},"+"),Object(i["f"])("button",{class:"btn-small action-btn",onClick:t[2]||(t[2]=function(t){return e.$emit("ingredient-amount-modify",-1)})},"-")])})),ee={emits:["ingredient-amount-modify"],props:["ingredient"]};n("afd8");ee.render=Z,ee.__scopeId="data-v-5df83f16";var te=ee,ne={name:"recipe-create-form",emits:["update:visible"],props:["visible"],components:{"ingredient-list-item":te},data:function(){return{name:"",time:"",amount:"",input:[],selectedInput:""}},methods:{submit:function(){""!=this.name&&""!=this.time&&""!=this.amount&&(this.$data.repository.addRecipe(this.name,this.time,this.amount,this.input),this.clearFields()),this.$emit("update:visible",!1)},cancel:function(){this.clearFields(),this.$emit("update:visible",!1)},clearFields:function(){this.name="",this.time="",this.amount="",this.input=[]},findRecipeName:function(e){return this.repository.findRecipe(e).name},addSelectedInput:function(){for(var e=this.$data.repository.findRecipeByName(this.selectedInput),t=0;t<this.input.length;t++)if(this.input[t].recipeId==e.id)return this.input[t].amount++,void(this.selectedInput="");this.input.push({recipeId:e.id,amount:1,name:e.name}),this.selectedInput=""},modifiyIngredientAmount:function(e,t){e.amount+t>0?e.amount+=t:this.input.splice(this.input.indexOf(e),1)}}};n("30e5");ne.render=W,ne.__scopeId="data-v-4a855c4c";var ie=ne;function ce(e,t,n,c,r,a){return Object(i["g"])(),Object(i["c"])("button",{"popover-bottom":e.popoverText},[Object(i["f"])("i",{class:n.icon,style:{float:"left","margin-right":"10px"}},null,2),Object(i["f"])("label",null,Object(i["m"])(n.text),1)],8,["popover-bottom"])}var re={props:["icon","popover-text","text"]};re.render=ce;var ae=re,oe={key:0,class:"card",style:{width:"100%",margin:"10px 0 10px 0"}},se={class:"card-body"},ue={class:"card-title"},le={class:"card-subtitle"},pe=Object(i["e"])(" in "),de=Object(i["e"])(" seconds"),be={key:0,class:"collapsible"},fe={class:"collapsible-body"};function me(e,t,n,c,r,a){var o=Object(i["l"])("recipe-create-form");return Object(i["g"])(!0),Object(i["c"])(i["a"],null,Object(i["k"])(a.getViewRecipes,(function(e){return Object(i["g"])(),Object(i["c"])("div",{key:e},[e.editMode?Object(i["d"])("",!0):(Object(i["g"])(),Object(i["c"])("div",oe,[Object(i["f"])("div",se,[Object(i["f"])("h4",ue,Object(i["m"])(e.recipe.name),1),Object(i["f"])("h5",le,[Object(i["f"])("strong",null,Object(i["m"])(e.recipe.amount)+"x",1),pe,Object(i["f"])("strong",null,Object(i["m"])(e.recipe.time),1),de]),e.recipe.input.length>0?(Object(i["g"])(),Object(i["c"])("div",be,[Object(i["f"])("input",{id:"collapsible"+e.recipe.id,type:"checkbox",name:"collapsible"},null,8,["id"]),Object(i["f"])("label",{for:"collapsible"+e.recipe.id,style:{padding:"0.15rem"}},"Ingredients",8,["for"]),Object(i["f"])("div",fe,[(Object(i["g"])(!0),Object(i["c"])(i["a"],null,Object(i["k"])(e.recipe.input,(function(e){return Object(i["g"])(),Object(i["c"])("h6",{style:{margin:"0.15rem"},key:e},[Object(i["f"])("strong",null,Object(i["m"])(e.amount)+"x",1),Object(i["e"])(" "+Object(i["m"])(a.findRecipeName(e.recipeId)),1)])})),128))])])):Object(i["d"])("",!0),Object(i["f"])("button",{class:"btn-small btn-secondary",style:{position:"absolute",top:"0",right:"0"},onClick:function(t){return a.changeMode(e)}},"Edit",8,["onClick"])])])),e.editMode?(Object(i["g"])(),Object(i["c"])(o,{key:1})):Object(i["d"])("",!0)])})),128)}n("d81d");var Oe={name:"recipe-list",props:[],components:{"recipe-create-form":ie},methods:{findRecipeName:function(e){return this.$data.repository.findRecipe(e).name},changeMode:function(e){e.editMode=!e.editMode}},computed:{getViewRecipes:function(){return this.$data.repository.getRecipes().map((function(e){return Object(i["j"])({recipe:e,editMode:!1})}))}}};Oe.render=me;var je=Oe,he={name:"App",components:{ChainResolver:U,CreateRecipeForm:ie,ButtonImg:ae,RecipeList:je},data:function(){return{createFormVisible:!1}}};n("4e8c");he.render=s;var ve=he,ge=n("b311"),ye=n.n(ge);new ye.a(".to-clipboard",{text:function(){return JSON.stringify(xe.getRecipes())}});var Re=[{id:6,name:"Iron Ore",time:1,amount:1,input:[]},{id:5,name:"Iron Plate",time:3.2,amount:1,input:[{recipeId:6,amount:1}]},{id:4,name:"Copper ore",time:1,amount:1,input:[]},{id:3,name:"Copper Plate",time:3.2,amount:1,input:[{recipeId:4,amount:1}]},{id:2,name:"Gears",time:.5,amount:1,input:[{recipeId:5,amount:2}]},{id:1,name:"Red Science",time:5,amount:1,input:[{recipeId:2,amount:1},{recipeId:3,amount:1}]}],xe={state:Object(i["j"])({saveName:"default",recipes:[]}),retrieveSavedRecipeNames:function(){return JSON.parse(localStorage.getItem("saves"))},loadRecipes:function(e){this.state.saveName=e,this.state.recipes=JSON.parse(localStorage.getItem("recipe-save-"+e))},saveRecipes:function(){localStorage.setItem("recipe-save-"+this.state.saveName,JSON.stringify(this.state.recipes));var e=this.retrieveSavedRecipeNames();e||(e=[]),e.push(this.state.saveName),localStorage.setItem("saves",JSON.stringify(e))},deleteRecipes:function(e){localStorage.setItem("recipe-save-"+e,null);var t=this.retrieveSavedRecipeNames();t||(t=[]),t=t.filter((function(t){return t!=e})),localStorage.setItem("saves",JSON.stringify(t))},importRecipes:function(e,t){var n=JSON.parse(e);"override"==t?this.state.recipes=n:"extend"==t&&this.state.recipes.push(n),this.saveRecipes()},addRecipe:function(e,t,n,i){this.recipeNameExists(e)||(this.state.recipes.splice(0,0,{id:this.state.recipes[0].id+1,name:e,time:t,amount:n,input:i}),this.saveRecipes())},getRecipes:function(){return this.state.recipes},findRecipe:function(e){return this.state.recipes.filter((function(t){return t.id==e}))[0]},findRecipeByName:function(e){return this.state.recipes.filter((function(t){return t.name==e}))[0]},recipeNameExists:function(e){return!!this.state.recipes.filter((function(t){return t.name==e})).length},addRecipeMock:function(){this.state.recipes.push({name:"Test",id:this.state.recipes[this.state.recipes.length-1].id+1,time:23,amount:14,input:[]})}},Ie=xe.retrieveSavedRecipeNames();Ie?xe.loadRecipes(Ie[0]):xe.state.recipes=Re,Object(i["b"])(ve).mixin({data:function(){return{repository:xe}}}).mount("#app")},"5ba6":function(e,t,n){},"6b07":function(e,t,n){},"8b05":function(e,t,n){},afd8:function(e,t,n){"use strict";n("5ba6")}});
//# sourceMappingURL=app.b5078c92.js.map